<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Meme Lab – Humor Genome</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Syne:wght@600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="icon" type="image/x-icon" href="http://localhost:5000/static/favicon.ico" />
  </head>
  <body>
    <header class="site-header">
      <div class="brand">
        <img src="http://localhost:5000/static/hg_banner_500.webp" alt="Humor Genome logo" class="brand-logo" loading="lazy" />
        <div class="brand-copy">
          <h1 class="brand-title">Meme Lab</h1>
          <p class="brand-tagline">Analyze, Remix, and Discover Your Funny</p>
        </div>
      </div>
    </header>

    <main>
      <section class="trending-meme">
        <div class="trending-header">
          <h2 class="visually-hidden">Trending from r/memes</h2>
          <div class="trending-actions">
            <button id="next-trending" type="button">FETCH MEME</button>
            <button id="analyze-meme" type="button">ANALYZE</button>
            <button id="remix-toggle" type="button" aria-controls="remix-panel" aria-expanded="false">REMIX</button>
          </div>
        </div>
        <article id="trending-card" class="trending-card is-hidden">
          <div id="loading-overlay" class="loading-overlay is-hidden" aria-live="assertive">
            <span class="loading-text">Fetching the funny…</span>
          </div>
          <div class="meme-visuals">
            <figure class="meme-frame original">
              <img id="trending-image" alt="Trending meme" />
              <figcaption>Original</figcaption>
            </figure>
            <figure id="remix-frame" class="meme-frame remix is-hidden">
              <img id="remix-visual" alt="Remixed meme" />
              <figcaption>Remix</figcaption>
            </figure>
          </div>
          <div class="remix-quick-input is-hidden" id="remix-quick-input">
            <textarea
              id="remix-input"
              class="remix-input"
              rows="2"
              placeholder="Describe how you want to remix this meme..."
            ></textarea>
            <p id="remix-status" class="remix-status"></p>
          </div>
          <div class="trending-content">
            <h3 id="trending-title"></h3>
            <p class="trending-meta">
              Posted by <span id="trending-author"></span>
              &bull;
              <span id="trending-ups"></span> upvotes
            </p>
            <a id="trending-link" href="#" target="_blank" rel="noopener noreferrer">View source</a>
          </div>
        </article>
        <p id="trending-status" class="trending-status"></p>
        <section id="analysis-panel" class="analysis-panel is-hidden" aria-live="polite">
          <div class="analysis-header">
            <h3>Humor Analysis</h3>
            <button id="humor-info" class="analysis-info" type="button" aria-label="What is included in the humor analysis?" aria-expanded="false" aria-controls="humor-explainer">ℹ️</button>
          </div>
          <p id="analysis-status" class="analysis-status"></p>
          <p id="analysis-summary" class="analysis-summary"></p>
          <div id="analysis-tags" class="analysis-tags"></div>
          <div id="humor-explainer" class="analysis-explainer is-hidden">
            <h4>Humor Analysis Notes</h4>
            <div class="explainer-columns">
              <div>
                <h5>Format / Structure</h5>
                <ul>
                  <li>Reaction – single face/emotion</li>
                  <li>Dialogue – two voices or text exchange</li>
                  <li>Narrative – story progression</li>
                  <li>Absurdist Visual – surreal or out-of-context</li>
                  <li>Juxtaposition – unexpected pairing</li>
                </ul>
              </div>
              <div>
                <h5>Cognitive Style</h5>
                <ul>
                  <li>Literal – straightforward setup</li>
                  <li>Wordplay – puns and clever phrasing</li>
                  <li>Subversion – twist or misdirection</li>
                  <li>Meta – joke about the meme itself</li>
                  <li>Exaggeration – overblown logic</li>
                </ul>
              </div>
              <div>
                <h5>Emotional Tone</h5>
                <ul>
                  <li>Wholesome – uplifting vibes</li>
                  <li>Playful – silly and goofy</li>
                  <li>Sarcastic – ironic or mocking</li>
                  <li>Self-Deprecating – turns on the self</li>
                  <li>Dark – edgy or nihilist</li>
                </ul>
              </div>
            </div>
          </div>
        </section>
        <section id="remix-panel" class="remix-panel is-hidden is-disabled" aria-live="polite"></section>
      </section>
    </main>

    <footer class="site-footer">
      <small>&copy; <span id="year"></span> Meme Lab</small>
    </footer>

    <script type="module" src="./main.js"></script>
  </body>
</html>
