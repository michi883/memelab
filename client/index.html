<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Meme Lab ‚Äì Humor Genome</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Syne:wght@600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="icon" type="image/x-icon" href="http://localhost:5000/static/favicon.ico" />
  </head>
  <body>
    <header class="site-header">
      <div class="brand">
        <img src="http://localhost:5000/static/hg_banner_500.webp" alt="Humor Genome logo" class="brand-logo" loading="lazy" />
        <div class="brand-copy">
          <h1 class="brand-title">Meme Lab</h1>
          <p class="brand-tagline">Analyze, Remix, and Discover Your Funny</p>
        </div>
      </div>
    </header>

    <main>
      <section class="trending-meme">
        <div class="trending-header">
          <h2 class="visually-hidden">Trending from r/memes</h2>
          <div class="trending-actions">
            <button id="next-trending" type="button">FETCH MEME</button>
            <button id="analyze-meme" type="button">ANALYZE</button>
            <button id="remix-toggle" type="button" aria-controls="remix-panel" aria-expanded="false">REMIX</button>
          </div>
        </div>
        <article id="trending-card" class="trending-card is-hidden">
          <div id="loading-overlay" class="loading-overlay is-hidden" aria-live="assertive">
            <span class="loading-text">Fetching the funny‚Ä¶</span>
          </div>
          <div class="meme-visuals">
            <figure class="meme-frame original" data-meme-slot="original">
              <img id="trending-image" alt="Trending meme" />
              <figcaption>Original</figcaption>
              <div class="meme-rating" data-meme-slot="original">
                <button type="button" class="thumb-button thumb-up" data-direction="up" aria-label="Thumbs up original meme">üëç</button>
                <span class="thumb-count" data-direction="up">0</span>
                <button type="button" class="thumb-button thumb-down" data-direction="down" aria-label="Thumbs down original meme">üëé</button>
                <span class="thumb-count" data-direction="down">0</span>
              </div>
            </figure>
            <figure id="remix-frame" class="meme-frame remix is-hidden" data-meme-slot="remix">
              <img id="remix-visual" alt="Remixed meme" />
              <figcaption>Remix</figcaption>
              <div class="meme-rating" data-meme-slot="remix">
                <button type="button" class="thumb-button thumb-up" data-direction="up" aria-label="Thumbs up remixed meme">üëç</button>
                <span class="thumb-count" data-direction="up">0</span>
                <button type="button" class="thumb-button thumb-down" data-direction="down" aria-label="Thumbs down remixed meme">üëé</button>
                <span class="thumb-count" data-direction="down">0</span>
              </div>
            </figure>
          </div>
          <div class="remix-quick-input is-hidden" id="remix-quick-input">
            <textarea
              id="remix-input"
              class="remix-input"
              rows="2"
              placeholder="Describe how you want to remix this meme..."
            ></textarea>
            <p id="remix-status" class="remix-status"></p>
          </div>
          <div class="trending-content">
            <h3 id="trending-title"></h3>
            <p class="trending-meta">
              Posted by <span id="trending-author"></span>
              &bull;
              <span id="trending-ups"></span> upvotes
            </p>
            <a id="trending-link" href="#" target="_blank" rel="noopener noreferrer">View source</a>
          </div>
        </article>
        <p id="trending-status" class="trending-status"></p>
        <section id="analysis-panel" class="analysis-panel is-hidden" aria-live="polite">
          <div class="analysis-header">
            <h3>Humor Analysis</h3>
            <button id="humor-info" class="analysis-info" type="button" aria-label="What is included in the humor analysis?" aria-expanded="false" aria-controls="humor-explainer">‚ÑπÔ∏è</button>
          </div>
          <p id="analysis-status" class="analysis-status"></p>
          <p id="analysis-summary" class="analysis-summary"></p>
          <div id="analysis-tags" class="analysis-tags"></div>
          <div id="humor-explainer" class="analysis-explainer is-hidden">
            <h4>Humor Analysis Notes</h4>
            <div class="explainer-columns">
              <div>
                <h5>Format / Structure</h5>
                <ul>
                  <li>Reaction ‚Äì single face/emotion</li>
                  <li>Dialogue ‚Äì two voices or text exchange</li>
                  <li>Narrative ‚Äì story progression</li>
                  <li>Absurdist Visual ‚Äì surreal or out-of-context</li>
                  <li>Juxtaposition ‚Äì unexpected pairing</li>
                </ul>
              </div>
              <div>
                <h5>Cognitive Style</h5>
                <ul>
                  <li>Literal ‚Äì straightforward setup</li>
                  <li>Wordplay ‚Äì puns and clever phrasing</li>
                  <li>Subversion ‚Äì twist or misdirection</li>
                  <li>Meta ‚Äì joke about the meme itself</li>
                  <li>Exaggeration ‚Äì overblown logic</li>
                </ul>
              </div>
              <div>
                <h5>Emotional Tone</h5>
                <ul>
                  <li>Wholesome ‚Äì uplifting vibes</li>
                  <li>Playful ‚Äì silly and goofy</li>
                  <li>Sarcastic ‚Äì ironic or mocking</li>
                  <li>Self-Deprecating ‚Äì turns on the self</li>
                  <li>Dark ‚Äì edgy or nihilist</li>
                </ul>
              </div>
            </div>
          </div>
        </section>
        <section id="remix-panel" class="remix-panel is-hidden is-disabled" aria-live="polite"></section>
      </section>
    </main>

    <footer class="site-footer">
      <small>&copy; <span id="year"></span> Humor Genome</small>
    </footer>

    <script type="module" src="./main.js"></script>

    <aside id="fingerprint-widget" class="fingerprint-widget" aria-live="polite">
      <div class="fingerprint-header">
        <span class="fingerprint-title">Humor Fingerprint</span>
        <button id="fingerprint-toggle" class="fingerprint-toggle" type="button" aria-label="Collapse humor fingerprint widget">‚àí</button>
      </div>
      <svg id="fingerprint-chart" class="fingerprint-chart" viewBox="0 0 160 160" role="img" aria-label="Humor fingerprint radar chart">
        <g class="fingerprint-grid">
          <polygon class="grid-ring" points="80,10 146.6,58.4 121.1,136.6 38.9,136.6 13.4,58.4" />
          <polygon class="grid-ring" points="80,30 127.6,64.5 109.4,120.5 50.6,120.5 32.4,64.5" />
          <polygon class="grid-ring" points="80,50 108.5,70.7 97.6,104.3 62.4,104.3 51.5,70.7" />
          <line x1="80" y1="80" x2="80" y2="10" />
          <line x1="80" y1="80" x2="146.6" y2="58.4" />
          <line x1="80" y1="80" x2="121.1" y2="136.6" />
          <line x1="80" y1="80" x2="38.9" y2="136.6" />
          <line x1="80" y1="80" x2="13.4" y2="58.4" />
        </g>
        <polygon id="fingerprint-polygon" class="fingerprint-polygon" points="80,40 110,70 100,110 60,110 50,70" />
        <g class="fingerprint-points" id="fingerprint-points">
          <circle class="fingerprint-point" data-metric="delight" r="4" cx="80" cy="40" />
          <circle class="fingerprint-point" data-metric="wit" r="4" cx="120" cy="86" />
          <circle class="fingerprint-point" data-metric="chaos" r="4" cx="102" cy="120" />
          <circle class="fingerprint-point" data-metric="warmth" r="4" cx="58" cy="120" />
          <circle class="fingerprint-point" data-metric="edge" r="4" cx="40" cy="86" />
        </g>
      </svg>
      <ul class="fingerprint-legend">
        <li data-metric="delight"><span class="dot"></span> Delight <span class="value">0</span></li>
        <li data-metric="wit"><span class="dot"></span> Wit <span class="value">0</span></li>
        <li data-metric="chaos"><span class="dot"></span> Chaos <span class="value">0</span></li>
        <li data-metric="warmth"><span class="dot"></span> Warmth <span class="value">0</span></li>
        <li data-metric="edge"><span class="dot"></span> Edge <span class="value">0</span></li>
      </ul>
      <button id="fingerprint-fab" class="fingerprint-fab" type="button" aria-label="Expand humor fingerprint widget">‚ú®</button>
    </aside>
  </body>
</html>
