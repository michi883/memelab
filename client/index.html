<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Meme Lab ‚Äì Humor Genome</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Syne:wght@600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="icon" type="image/x-icon" href="http://localhost:5000/static/favicon.ico" />
  </head>
  <body>
    <header class="site-header">
      <div class="brand">
        <img src="http://localhost:5000/static/hg_banner_500.webp" alt="Humor Genome logo" class="brand-logo" loading="lazy" />
        <div class="brand-copy">
          <h1 class="brand-title">Meme Lab</h1>
          <p class="brand-tagline">Analyze, Remix, and Discover Your Funny</p>
        </div>
      </div>
    </header>

    <main>
      <section class="trending-meme">
        <div class="trending-header">
          <h2 class="visually-hidden">Trending from r/memes</h2>
          <div class="trending-actions">
            <form id="meme-search" class="meme-search" autocomplete="off">
              <label class="visually-hidden" for="meme-query">Search for a meme or describe a remix</label>
              <div class="search-field">
                <input
                  id="meme-query"
                  name="query"
                  type="search"
                  placeholder="Search memes or describe a remix..."
                  aria-label="Search memes or describe a remix"
                  spellcheck="false"
                  maxlength="120"
                />
                <button id="meme-search-submit" class="search-submit" type="submit" aria-label="Search memes">
                  <svg class="search-icon" viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path
                      d="M15.8 14.4a6.5 6.5 0 1 0-1.4 1.4l4.2 4.3a1 1 0 0 0 1.4-1.4l-4.2-4.3Zm-5.3.9a4.9 4.9 0 1 1 0-9.8 4.9 4.9 0 0 1 0 9.8Z"
                      fill="currentColor"
                    />
                  </svg>
                  <span class="visually-hidden">Submit search</span>
                </button>
              </div>
              <p id="search-warning" class="search-warning" role="alert"></p>
            </form>
            <div class="split-action-row">
              <div class="action-buttons">
                <div class="action-button">
                  <button
                    id="analyze-meme"
                    class="icon-button analyze-button"
                    type="button"
                    aria-label="Analyze meme"
                    title="Analyze meme"
                  >
                    <svg class="icon" viewBox="0 0 24 24" role="img" aria-hidden="true">
                      <rect x="4.5" y="5" width="15" height="14" rx="3" ry="3" fill="none" stroke="currentColor" stroke-width="1.2" opacity="0.7" />
                      <polyline
                        points="6.5 14 9.2 11.5 11.4 13 14 8.8 17.5 10.5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <line x1="6.5" y1="16" x2="17.5" y2="16" stroke="currentColor" stroke-width="1.1" opacity="0.55" stroke-linecap="round" />
                      <line x1="6.5" y1="9" x2="6.5" y2="16" stroke="currentColor" stroke-width="1.1" opacity="0.55" stroke-linecap="round" />
                      <circle cx="9.2" cy="11.5" r="0.9" fill="currentColor" />
                      <circle cx="11.4" cy="13" r="0.9" fill="currentColor" />
                      <circle cx="14" cy="8.8" r="0.9" fill="currentColor" />
                      <circle cx="17.5" cy="10.5" r="0.9" fill="currentColor" />
                    </svg>
                    <span class="visually-hidden">Analyze</span>
                  </button>
                  <span class="action-hint">Analyze</span>
                </div>
                <div class="action-button">
                  <button
                    id="remix-toggle"
                    class="icon-button remix-button"
                    type="button"
                    aria-controls="remix-panel"
                    aria-expanded="false"
                    aria-label="Remix meme using the search field instructions"
                    title="Remix meme using the search field instructions"
                  >
                  <svg class="icon" viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path
                      d="M6.5 7a1 1 0 0 1 1-1h3.2l1.4 2.1a1 1 0 0 0 .83.44H17l-.88.88a1 1 0 1 0 1.42 1.42l2.8-2.8a1 1 0 0 0 0-1.42l-2.8-2.8a1 1 0 1 0-1.42 1.42L17 6h-3.07l-1.4-2.1A1 1 0 0 0 11.7 3H7.5a3 3 0 0 0 0 6h1.1a1 1 0 0 0 0-2H7.5a1 1 0 0 1-1-1Zm11 8h-3.2l-1.4-2.1a1 1 0 0 0-.83-.44H9l.88-.88a1 1 0 1 0-1.42-1.42l-2.8 2.8a1 1 0 0 0 0 1.42l2.8 2.8a1 1 0 0 0 1.42-1.42L9 15h3.07l1.4 2.1a1 1 0 0 0 .83.44H16.5a3 3 0 0 0 0-6h-1.1a1 1 0 0 0 0 2h1.1a1 1 0 0 1 0 2Z"
                      fill="currentColor"
                      transform="translate(0 0.6)"
                    />
                  </svg>
                    <span class="visually-hidden">Remix</span>
                  </button>
                  <span class="action-hint">Remix</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <article id="trending-card" class="trending-card is-hidden">
          <div id="loading-overlay" class="loading-overlay is-hidden" aria-live="assertive">
            <span class="loading-text">Fetching the funny‚Ä¶</span>
          </div>
          <div class="analysis-slot">
            <section id="analysis-panel" class="analysis-panel is-hidden" aria-live="polite">
              <div class="analysis-header">
                <h3>Humor Analysis</h3>
                <button id="humor-info" class="analysis-info" type="button" aria-label="What is included in the humor analysis?" aria-expanded="false" aria-controls="humor-explainer">‚ÑπÔ∏è</button>
              </div>
              <p id="analysis-status" class="analysis-status"></p>
              <p id="analysis-summary" class="analysis-summary"></p>
              <div id="analysis-tags" class="analysis-tags"></div>
              <div id="humor-explainer" class="analysis-explainer is-hidden">
                <h4>Humor Analysis Notes</h4>
                <div class="explainer-columns">
                  <div>
                    <h5>Format / Structure</h5>
                    <ul>
                      <li>Reaction ‚Äì single face/emotion</li>
                      <li>Dialogue ‚Äì two voices or text exchange</li>
                      <li>Narrative ‚Äì story progression</li>
                      <li>Absurdist Visual ‚Äì surreal or out-of-context</li>
                      <li>Juxtaposition ‚Äì unexpected pairing</li>
                    </ul>
                  </div>
                  <div>
                    <h5>Cognitive Style</h5>
                    <ul>
                      <li>Literal ‚Äì straightforward setup</li>
                      <li>Wordplay ‚Äì puns and clever phrasing</li>
                      <li>Subversion ‚Äì twist or misdirection</li>
                      <li>Meta ‚Äì joke about the meme itself</li>
                      <li>Exaggeration ‚Äì overblown logic</li>
                    </ul>
                  </div>
                  <div>
                    <h5>Emotional Tone</h5>
                    <ul>
                      <li>Wholesome ‚Äì uplifting vibes</li>
                      <li>Playful ‚Äì silly and goofy</li>
                      <li>Sarcastic ‚Äì ironic or mocking</li>
                      <li>Self-Deprecating ‚Äì turns on the self</li>
                      <li>Dark ‚Äì edgy or nihilist</li>
                    </ul>
                  </div>
                </div>
              </div>
            </section>
          </div>
          <div class="meme-visuals">
            <figure class="meme-frame original" data-meme-slot="original">
              <div class="trending-figure">
                <img id="trending-image" alt="Trending meme" />
                <div class="remix-spinner" aria-hidden="true">
                  <span class="spinner-dot"></span>
                </div>
                <button id="download-original" class="download-button" type="button" aria-label="Download original meme">
                  <svg class="download-icon" viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path
                      d="M12 3a1 1 0 0 1 1 1v8.17l2.59-2.58a1 1 0 1 1 1.41 1.42l-4.3 4.29a1 1 0 0 1-1.4 0l-4.3-4.29a1 1 0 0 1 1.41-1.42L11 12.17V4a1 1 0 0 1 1-1Zm-6 13a1 1 0 0 1 1 1v1h10v-1a1 1 0 1 1 2 0v1.5A2.5 2.5 0 0 1 16.5 21h-9A2.5 2.5 0 0 1 5 18.5V17a1 1 0 0 1 1-1Z"
                      fill="currentColor"
                    />
                  </svg>
                  <span class="visually-hidden">Download original</span>
                </button>
              </div>
              <figcaption>Original</figcaption>
              <div class="meme-rating" data-meme-slot="original">
                <button type="button" class="thumb-button thumb-up" data-direction="up" aria-label="Thumbs up original meme">üëç</button>
                <span class="thumb-count" data-direction="up">0</span>
                <button type="button" class="thumb-button thumb-down" data-direction="down" aria-label="Thumbs down original meme">üëé</button>
                <span class="thumb-count" data-direction="down">0</span>
              </div>
            </figure>
            <figure id="remix-frame" class="meme-frame remix is-hidden" data-meme-slot="remix">
              <div class="trending-figure">
                <img id="remix-visual" alt="Remixed meme" />
                <button id="download-remix" class="download-button" type="button" aria-label="Download remixed meme">
                  <svg class="download-icon" viewBox="0 0 24 24" role="img" aria-hidden="true">
                    <path
                      d="M12 3a1 1 0 0 1 1 1v8.17l2.59-2.58a1 1 0 1 1 1.41 1.42l-4.3 4.29a1 1 0 0 1-1.4 0l-4.3-4.29a1 1 0 0 1 1.41-1.42L11 12.17V4a1 1 0 0 1 1-1Zm-6 13a1 1 0 0 1 1 1v1h10v-1a1 1 0 1 1 2 0v1.5A2.5 2.5 0 0 1 16.5 21h-9A2.5 2.5 0 0 1 5 18.5V17a1 1 0 0 1 1-1Z"
                      fill="currentColor"
                    />
                  </svg>
                  <span class="visually-hidden">Download remix</span>
                </button>
              </div>
              <figcaption>Remix</figcaption>
              <div class="meme-rating" data-meme-slot="remix">
                <button type="button" class="thumb-button thumb-up" data-direction="up" aria-label="Thumbs up remixed meme">üëç</button>
                <span class="thumb-count" data-direction="up">0</span>
                <button type="button" class="thumb-button thumb-down" data-direction="down" aria-label="Thumbs down remixed meme">üëé</button>
                <span class="thumb-count" data-direction="down">0</span>
              </div>
            </figure>
          </div>
          <div class="trending-content">
            <h3 id="trending-title"></h3>
            <p class="trending-meta">
              Posted by <span id="trending-author"></span>
              &bull;
              <span id="trending-ups"></span> upvotes
            </p>
            <a id="trending-link" href="#" target="_blank" rel="noopener noreferrer">View source</a>
          </div>
          <p id="remix-status" class="remix-status"></p>
        </article>
        <p id="trending-status" class="trending-status"></p>
        <section id="remix-panel" class="remix-panel is-hidden is-disabled" aria-live="polite"></section>
      </section>
    </main>

    <footer class="site-footer">
      <small>&copy; <span id="year"></span> Humor Genome</small>
    </footer>

    <script type="module" src="./main.js"></script>

    <aside id="fingerprint-widget" class="fingerprint-widget" aria-live="polite">
      <div class="fingerprint-header">
        <span class="fingerprint-title">Humor Fingerprint</span>
        <button id="fingerprint-toggle" class="fingerprint-toggle" type="button" aria-label="Collapse humor fingerprint widget">‚àí</button>
      </div>
      <svg id="fingerprint-chart" class="fingerprint-chart" viewBox="0 0 160 160" role="img" aria-label="Humor fingerprint radar chart">
        <g class="fingerprint-grid">
          <polygon class="grid-ring" points="80,10 146.6,58.4 121.1,136.6 38.9,136.6 13.4,58.4" />
          <polygon class="grid-ring" points="80,30 127.6,64.5 109.4,120.5 50.6,120.5 32.4,64.5" />
          <polygon class="grid-ring" points="80,50 108.5,70.7 97.6,104.3 62.4,104.3 51.5,70.7" />
          <line x1="80" y1="80" x2="80" y2="10" />
          <line x1="80" y1="80" x2="146.6" y2="58.4" />
          <line x1="80" y1="80" x2="121.1" y2="136.6" />
          <line x1="80" y1="80" x2="38.9" y2="136.6" />
          <line x1="80" y1="80" x2="13.4" y2="58.4" />
        </g>
        <polygon id="fingerprint-polygon" class="fingerprint-polygon" points="80,40 110,70 100,110 60,110 50,70" />
        <g class="fingerprint-points" id="fingerprint-points">
          <circle class="fingerprint-point" data-metric="delight" r="4" cx="80" cy="40" />
          <circle class="fingerprint-point" data-metric="wit" r="4" cx="120" cy="86" />
          <circle class="fingerprint-point" data-metric="chaos" r="4" cx="102" cy="120" />
          <circle class="fingerprint-point" data-metric="warmth" r="4" cx="58" cy="120" />
          <circle class="fingerprint-point" data-metric="edge" r="4" cx="40" cy="86" />
        </g>
      </svg>
      <ul class="fingerprint-legend">
        <li data-metric="delight"><span class="dot"></span> Delight <span class="value">0</span></li>
        <li data-metric="wit"><span class="dot"></span> Wit <span class="value">0</span></li>
        <li data-metric="chaos"><span class="dot"></span> Chaos <span class="value">0</span></li>
        <li data-metric="warmth"><span class="dot"></span> Warmth <span class="value">0</span></li>
        <li data-metric="edge"><span class="dot"></span> Edge <span class="value">0</span></li>
      </ul>
      <button id="fingerprint-fab" class="fingerprint-fab" type="button" aria-label="Expand humor fingerprint widget">
        <svg class="fingerprint-icon" viewBox="0 0 32 32" role="img" aria-hidden="true">
          <defs>
            <linearGradient id="fp-icon-gradient" x1="9" y1="6" x2="23" y2="26" gradientUnits="userSpaceOnUse">
              <stop offset="0" stop-color="rgba(210, 227, 255, 0.92)" />
              <stop offset="1" stop-color="rgba(160, 193, 255, 0.72)" />
            </linearGradient>
          </defs>
          <circle cx="16" cy="16" r="10.4" fill="none" stroke="url(#fp-icon-gradient)" stroke-width="1.4" opacity="0.55" />
          <polygon
            points="16,6.5 23.2,11 23.2,21 16,25.5 8.8,21 8.8,11"
            fill="none"
            stroke="url(#fp-icon-gradient)"
            stroke-width="1.5"
            opacity="0.7"
          />
          <line x1="16" y1="7.2" x2="16" y2="24.8" stroke="url(#fp-icon-gradient)" stroke-width="1.5" stroke-linecap="round" opacity="0.7" />
          <line x1="9.4" y1="16" x2="22.6" y2="16" stroke="url(#fp-icon-gradient)" stroke-width="1.5" stroke-linecap="round" opacity="0.7" />
          <polygon points="16 11.4 19.4 13.4 18.4 18.2 16 20 13.6 18.2 12.6 13.4" fill="url(#fp-icon-gradient)" opacity="0.45" />
          <circle cx="16" cy="16" r="2.4" fill="url(#fp-icon-gradient)" />
          <rect x="22.4" y="9.2" width="2.2" height="2.2" rx="0.6" fill="url(#fp-icon-gradient)" opacity="0.75" />
        </svg>
        <span class="visually-hidden">Expand humor fingerprint widget</span>
      </button>
    </aside>
  </body>
</html>
